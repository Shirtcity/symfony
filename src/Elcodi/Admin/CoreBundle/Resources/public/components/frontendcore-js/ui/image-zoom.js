var Event=function(){"use strict";this.attach=function(a,b,c,d){var e="",f=void 0===d?!0:d,g=null;return void 0===window.addEventListener?(e="on"+a,g=function(a,c){return b.attachEvent(a,c),c}):(e=a,g=function(a,c,d){return b.addEventListener(a,c,d),c}),g.apply(b,[e,function(a){var b=a||event,d=b.srcElement||b.target;c(b,d)},f])},this.detach=function(a,b,c,d){var e="",f=void 0===d?!0:d;void 0===window.removeEventListener?(e="on"+a,b.detachEvent(e,c)):(e=a,b.removeEventListener(e,c,f))},this.stop=function(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},this.prevent=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}},Magnifier=function(a,b){"use strict";var c=b||{},d=null,e={x:0,y:0,w:0,h:0,lensW:0,lensH:0,lensBgX:0,lensBgY:0,largeW:0,largeH:0,largeL:0,largeT:0,zoom:2,zoomMin:1.1,zoomMax:5,mode:"outside",largeWrapperId:void 0!==c.largeWrapper?c.largeWrapper.id||null:null,status:0,zoomAttached:!1,zoomable:void 0!==c.zoomable?c.zoomable:!1,onthumbenter:void 0!==c.onthumbenter?c.onthumbenter:null,onthumbmove:void 0!==c.onthumbmove?c.onthumbmove:null,onthumbleave:void 0!==c.onthumbleave?c.onthumbleave:null,onzoom:void 0!==c.onzoom?c.onzoom:null},f={t:0,l:0,x:0,y:0},g=0,h=0,i="",j=null,k=null,l=void 0!==c.zoom?c.zoom:e.zoom,m=void 0!==c.zoomMin?c.zoomMin:e.zoomMin,n=void 0!==c.zoomMax?c.zoomMax:e.zoomMax,o=c.mode||e.mode,p={},q=!1,r=0,s=function(a){var b=[],c=null,d=0,e="",f=0,g=0;if(document.getElementsByClassName)b=document.getElementsByClassName(a);else for(c=document.getElementsByTagName("*"),d=c.length,e=new RegExp("(^|\\s)"+a+"(\\s|$)"),g;d>f;f+=1)e.test(c[f].className)&&(b[g]=c[f],g+=1);return b},t=function(a){var b="",c=a.charAt(0),d=null;if(("#"===c||"."===c)&&(b=a.substr(1,a.length)),""!==b)switch(c){case"#":d=document.getElementById(b);break;case".":d=s(b)}return d},u=function(a,b){var c=document.createElement("div");c.id=b+"-lens",c.className="magnifier-loader",a.parentNode.appendChild(c)},v=function(){j.style.left=f.l+"px",j.style.top=f.t+"px",j.style.width=e.lensW+"px",j.style.height=e.lensH+"px",j.style.backgroundPosition="-"+e.lensBgX+"px -"+e.lensBgY+"px",k.style.left="-"+e.largeL+"px",k.style.top="-"+e.largeT+"px",k.style.width=e.largeW+"px",k.style.height=e.largeH+"px"},w=function(a,b,c,d){var e=t("#"+a+"-lens"),f=null;1===p[a].status?(f=document.createElement("div"),f.className="magnifier-loader-text",e.className="magnifier-loader hidden",f.appendChild(document.createTextNode("Loading...")),e.appendChild(f)):2===p[a].status&&(e.className="magnifier-lens hidden",e.removeChild(e.childNodes[0]),e.style.background="url("+b.src+") no-repeat 0 0 scroll",c.id=a+"-large",c.style.width=p[a].largeW+"px",c.style.height=p[a].largeH+"px",c.className="magnifier-large hidden","inside"===p[a].mode?e.appendChild(c):d.appendChild(c)),e.style.width=p[a].lensW+"px",e.style.height=p[a].lensH+"px"},x=function(){var a=f.x-e.x,b=f.y-e.y,c=0,d=0;q=0>a||0>b||a>e.w||b>e.h?!1:!0,d=a-e.lensW/2,c=b-e.lensH/2,"inside"!==e.mode&&(a<e.lensW/2&&(d=0),b<e.lensH/2&&(c=0),a-e.w+e.lensW/2>0&&(d=e.w-(e.lensW+2)),b-e.h+e.lensH/2>0&&(c=e.h-(e.lensH+2))),f.l=Math.round(d),f.t=Math.round(c),e.lensBgX=f.l+1,e.lensBgY=f.t+1,"inside"===e.mode?(e.largeL=Math.round(a*(e.zoom-e.lensW/e.w)),e.largeT=Math.round(b*(e.zoom-e.lensH/e.h))):(e.largeL=Math.round(e.lensBgX*e.zoom*(e.largeWrapperW/e.w)),e.largeT=Math.round(e.lensBgY*e.zoom*(e.largeWrapperH/e.h)))},y=function(a){var b=a.wheelDelta>0||a.detail<0?.1:-.1,c=e.onzoom,g=1,h=0,i=0;a.preventDefault&&a.preventDefault(),a.returnValue=!1,e.zoom=Math.round(10*(e.zoom+b))/10,e.zoom>=e.zoomMax?e.zoom=e.zoomMax:e.zoom>=e.zoomMin?(e.lensW=Math.round(e.w/e.zoom),e.lensH=Math.round(e.h/e.zoom),"inside"===e.mode?(h=e.w,i=e.h):(h=e.largeWrapperW,i=e.largeWrapperH,g=e.largeWrapperW/e.w),e.largeW=Math.round(e.zoom*h),e.largeH=Math.round(e.zoom*i),x(),v(),null!==c&&c({thumb:d,lens:j,large:k,x:f.x,y:f.y,zoom:Math.round(e.zoom*g*10)/10,w:e.lensW,h:e.lensH})):e.zoom=e.zoomMin},z=function(){e=p[i],j=t("#"+i+"-lens"),2===e.status?(j.className="magnifier-lens",e.zoomAttached===!1&&(void 0!==e.zoomable&&e.zoomable===!0&&(a.attach("mousewheel",j,y),window.addEventListener&&j.addEventListener("DOMMouseScroll",function(a){y(a)})),e.zoomAttached=!0),k=t("#"+i+"-large"),k.className="magnifier-large"):1===e.status&&(j.className="magnifier-loader")},A=function(){if(e.status>0){var a=e.onthumbleave;null!==a&&a({thumb:d,lens:j,large:k,x:f.x,y:f.y}),-1===j.className.indexOf("hidden")&&(j.className+=" hidden",d.className=e.thumbCssClass,null!==k&&(k.className+=" hidden"))}},B=function(){if(h!==e.status&&z(),e.status>0){d.className=e.thumbCssClass+" opaque",1===e.status?j.className="magnifier-loader":2===e.status&&(j.className="magnifier-lens",k.className="magnifier-large",k.style.left="-"+e.largeL+"px",k.style.top="-"+e.largeT+"px"),j.style.left=f.l+"px",j.style.top=f.t+"px",j.style.backgroundPosition="-"+e.lensBgX+"px -"+e.lensBgY+"px";var a=e.onthumbmove;null!==a&&a({thumb:d,lens:j,large:k,x:f.x,y:f.y})}h=e.status},C=function(a,b){var c=a.getBoundingClientRect(),d=0,e=0;b.x=c.left,b.y=c.top,b.w=Math.round(c.right-b.x),b.h=Math.round(c.bottom-b.y),b.lensW=Math.round(b.w/b.zoom),b.lensH=Math.round(b.h/b.zoom),"inside"===b.mode?(d=b.w,e=b.h):(d=b.largeWrapperW,e=b.largeWrapperH),b.largeW=Math.round(b.zoom*d),b.largeH=Math.round(b.zoom*e)};this.attach=function(a){if(void 0===a.thumb)throw{name:"Magnifier error",message:"Please set thumbnail",toString:function(){return this.name+": "+this.message}};var b=t(a.thumb),c=0;if(void 0!==b.length)for(c;c<b.length;c+=1)a.thumb=b[c],this.set(a);else a.thumb=b,this.set(a)},this.setThumb=function(a){d=a},this.set=function(b){if(void 0!==p[b.thumb.id])return d=b.thumb,!1;var c=new Image,h=new Image,q=b.thumb,s=q.id,v=null,y=null,D=t("#"+b.largeWrapper)||t("#"+q.getAttribute("data-large-img-wrapper"))||t("#"+e.largeWrapperId),E=b.zoom||q.getAttribute("data-zoom")||l,F=b.zoomMin||q.getAttribute("data-zoom-min")||m,G=b.zoomMax||q.getAttribute("data-zoom-max")||n,H=b.mode||q.getAttribute("data-mode")||o,I=void 0!==b.onthumbenter?b.onthumbenter:e.onthumbenter,J=void 0!==b.onthumbleave?b.onthumbleave:e.onthumbleave,K=void 0!==b.onthumbmove?b.onthumbmove:e.onthumbmove,L=void 0!==b.onzoom?b.onzoom:e.onzoom;if(y=void 0===b.large?null!==b.thumb.getAttribute("data-large-img-url")?b.thumb.getAttribute("data-large-img-url"):b.thumb.src:b.large,null===D&&"inside"!==H)throw{name:"Magnifier error",message:"Please specify large image wrapper DOM element",toString:function(){return this.name+": "+this.message}};void 0!==b.zoomable?v=b.zoomable:null!==q.getAttribute("data-zoomable")?v="true"===q.getAttribute("data-zoomable"):void 0!==e.zoomable&&(v=e.zoomable),""===q.id&&(s=q.id="magnifier-item-"+g,g+=1),u(q,s),p[s]={zoom:E,zoomMin:F,zoomMax:G,mode:H,zoomable:v,thumbCssClass:q.className,zoomAttached:!1,status:0,largeUrl:y,largeWrapperId:"outside"===H?D.id:null,largeWrapperW:"outside"===H?D.offsetWidth:null,largeWrapperH:"outside"===H?D.offsetHeight:null,onzoom:L,onthumbenter:I,onthumbleave:J,onthumbmove:K},a.attach("mouseover",q,function(a,b){0!==e.status&&A(),i=b.id,d=b,z(b),C(d,e),f.x=a.clientX,f.y=a.clientY,x(),B();var c=e.onthumbenter;null!==c&&c({thumb:d,lens:j,large:k,x:f.x,y:f.y})},!1),a.attach("mousemove",q,function(a,b){r=1}),a.attach("load",c,function(){p[s].status=1,C(q,p[s]),w(s),a.attach("load",h,function(){p[s].status=2,w(s,q,h,D)}),h.src=p[s].largeUrl}),c.src=q.src},a.attach("mousemove",document,function(a){f.x=a.clientX,f.y=a.clientY,x(),q===!0?B():(0!==r&&A(),r=0)},!1),a.attach("scroll",window,function(){null!==d&&C(d,e)})};FrontendCore.define("image-zoom",[],function(){return{sPathCss:oGlobalSettings.sPathCssUI+"?v="+oGlobalSettings.sHash,oDefault:{zoom:3,zoomable:!0},onStart:function(){var a=FrontendTools.getDataModules("image-zoom"),b=this;FrontendTools.loadCSS(this.sPathCss),FrontendTools.trackModule("JS_Libraries","call","image-zoom"),$(a).each(function(a){b.autobind(this,a)})},autobind:function(a,b){var c=$("img",a)[0];""===c.id&&(c.id="zoom-image-"+b),$(a).addClass("magnifier-thumb-wrapper");var d,e=this,f={},g=document.createElement("div"),h=c.id+"-preview",i="350px",j="350px",k=$(c).offset();if(null!==a.getAttribute("data-fc-width")&&(i=a.getAttribute("data-fc-width").replace("px","")+"px"),null!==a.getAttribute("data-fc-height")&&(j=a.getAttribute("data-fc-height").replace("px","")+"px"),g.id=h,g.style.width=i,g.style.height=j,g.style.top=k.top+"px","left"!==a.getAttribute("data-fc-position")?g.style.left=k.left+($(c).width()+1)+"px":g.style.right=k.right+"px",g.style.opacity=0,g.className="magnifier-preview",document.body.appendChild(g),$("#"+h).hide("fast",function(){$(this).css("opacity","1")}),f.thumb="#"+c.id,f.largeWrapper=h,null!==a.getAttribute("data-fc-url")?f.large=a.getAttribute("data-fc-url"):f.large=a.href,f.onthumbenter=function(){k=$(c).offset(),$("#"+h).fadeIn("fast").css({left:k.left+($(c).width()+1)+"px",top:k.top+"px"})},f.onthumbleave=function(){$("#"+h).hide()},null!==f.large){d=FrontendTools.mergeOptions(e.oDefault,f);var l=new Event,m=new Magnifier(l);m.attach(d)}FrontendTools.removeLoading(a)},onStop:function(){this.sPathCss=null},onDestroy:function(){delete this.sPathCss}}});