{% extends 'AdminCoreBundle::Common/formComponent.html.twig' %}


{% set elcodi_context = {
    entity_type: 'articleProduct'
} %}


{% form_theme form 'AdminCoreBundle::Forms/fields.html.twig' %}


{% block content %}

    <header class="section-header">
        {% set title = 'admin.article.plural'|trans %}

        {% if articleProduct.id %}
            {% set header = 'admin.article_product_print_side.edit'|trans({ '%name%': articleProduct.printSide.type.name|trim }) %}
        {% else %}
            {% set header = 'admin.article_product_print_side.new'|trans %}
        {% endif %}

        {% include '@AdminCore/Common/breadcrumb.html.twig' with {
            breadcrumb: [
                { name: title},
				{ name: header, active: true },
            ],
        } %}
    </header>

    <div class="papa-air">
    {% include 'AdminCoreBundle::Common/flashMessages.html.twig' %}

    {% set formAction = articleProduct.articleProductPrintSide.id
        ? url('admin_article_product_print_side_update', {
            articleProductId: articleProduct.id,
            id: articleProduct.articleProductPrintSide.id,
        })
        : url('admin_article_product_print_side_save', {
            articleProductId: articleProduct.id,
        })
    %}

    {{ form_start(form, { action: formAction }) }}
        <fieldset>            
            <div class="grid">
                <div class="col-1-3">
                    <div class="box-none">
                        <h3 class="fw-n">{{ 'admin.article_product_print_side.section.print_side.title'|trans }}</h3>
                        <p>{{ 'admin.article_product_print_side.section.print_side.description'|trans }}</p>
                    </div>
                </div>
                <div class="col-2-3">
                    <div class="box pb-n">
                        <ol class="grid">
                            <li class="col-1-2">
								{#{dump(articleProduct.articleProductPrintSides)}#}
								{% for side in form.articleProductPrintSides %}
									{#{dump(side.vars.data.printSide.type.name)}#}
									<h2>{{ side.vars.data.printSide.type.name }}</h2>
									{{ form_row(side.printableVariants, { label: 'admin.article_product_print_side.field.print_side.title' }) }}
								{% endfor %}
                            </li>
                        </ol>
                    </div>
                </div>
            </div>            
        </fieldset>

        <div class="grid fixed-bottom animated fade-in-up">
            <div class="col-1-3">
                &nbsp;
            </div>
            <div class="col-2-3">
                <button type="submit" class="button-primary button-fat pv-s mr-l" id="submit-variant">{{ 'ui.forms.save'|trans }}</button>
                <script type="text/javascript">
                    if ( window!=window.top ) {
                        var oParent = window.parent,
                            oModal = oParent.TinyCore.Module.instantiate('modal');
                    }
                </script>
                <a href="javascript:oModal.close();">{{ 'ui.forms.cancel'|trans }}</a>
            </div>
        </div>
    {{ form_end(form) }}
    </div>

{% endblock content %}
